<div class="editor-row">
  <div class="section gf-form-group">
    <h5 class="section-heading">Y 轴</h5>
    <div class="gf-form">
      <label class="gf-form-label width-8">单位</label>
      <div class="gf-form-dropdown-typeahead width-12"
           ng-model="ctrl.panel.yAxis.format"
           dropdown-typeahead2="editor.unitFormats"
           dropdown-typeahead-on-select="editor.setUnitFormat($subItem)">
      </div>
    </div>
    <div ng-if="ctrl.panel.dataFormat == 'timeseries'">
      <div class="gf-form">
        <label class="gf-form-label width-8">规模</label>
        <div class="gf-form-select-wrapper width-12">
          <select class="gf-form-input" ng-model="ctrl.panel.yAxis.logBase" ng-options="v as k for (k, v) in editor.logScales" ng-change="ctrl.refresh()"></select>
        </div>
      </div>
      <div class="gf-form">
        <label class="gf-form-label width-8">Y-最小值</label>
        <input type="text" class="gf-form-input width-12" placeholder="自动" empty-to-null ng-model="ctrl.panel.yAxis.min" ng-change="ctrl.render()" ng-model-onblur>
      </div>
      <div class="gf-form">
        <label class="gf-form-label width-8">Y-最大值</label>
        <input type="text" class="gf-form-input width-12" placeholder="自动" empty-to-null ng-model="ctrl.panel.yAxis.max" ng-change="ctrl.render()" ng-model-onblur>
      </div>
    </div>
    <div class="gf-form">
      <label class="gf-form-label width-8">小数</label>
      <input type="number" class="gf-form-input width-12" placeholder="自动" data-placement="right"
      bs-tooltip="'覆盖轴的自动小数精度。'"
      ng-model="ctrl.panel.yAxis.decimals" ng-change="ctrl.render()" ng-model-onblur>
    </div>
    <div class="gf-form" ng-if="ctrl.panel.dataFormat == 'tsbuckets'">
      <label class="gf-form-label width-8">Bucket bound</label>
      <div class="gf-form-select-wrapper max-width-12">
        <select class="gf-form-input"
          ng-model="ctrl.panel.yBucketBound" ng-options="v as k for (k, v) in editor.yBucketBoundModes" ng-change="ctrl.render()"
          data-placement="right" bs-tooltip="'使用系列标签作为bucket的上限或下限。'">
        </select>
      </div>
    </div>
  </div>

  <div class="section gf-form-group" ng-if="ctrl.panel.dataFormat == 'timeseries'">
    <h5 class="section-heading">Buckets</h5>
    <div class="gf-form-inline">
      <div class="gf-form">
        <label class="gf-form-label width-5">Y 轴</label>
      </div>
      <div class="gf-form" ng-show="ctrl.panel.yAxis.logBase === 1">
        <label class="gf-form-label width-5">Buckets</label>
        <input type="number" class="gf-form-input width-5" placeholder="自动" data-placement="right"
                                                                              bs-tooltip="'Y轴bucket的数量。'"
                                                                              ng-model="ctrl.panel.yBucketNumber" ng-change="ctrl.refresh()" ng-model-onblur>
      </div>
      <div class="gf-form" ng-show="ctrl.panel.yAxis.logBase === 1">
        <label class="gf-form-label width-4">大小</label>
        <input type="number" class="gf-form-input width-5" placeholder="自动" data-placement="right"
                                                                              bs-tooltip="'bucket的大小。优先于Bucket选项。'"
                                                                              ng-model="ctrl.panel.yBucketSize" ng-change="ctrl.refresh()" ng-model-onblur>
      </div>
      <div class="gf-form" ng-show="ctrl.panel.yAxis.logBase !== 1">
        <label class="gf-form-label width-10">分裂因子</label>
        <input type="number"
               class="gf-form-input width-9"
               placeholder="1"
               data-placement="right"
               bs-tooltip="'仅适用于日志刻度。默认情况下，Y值按日志基数的整数幂（1，2，4，8，16，...表示log2）进行拆分。此选项允许将每个默认存储桶拆分为指定数量的存储桶。'"
               ng-model="ctrl.panel.yAxis.splitFactor" ng-change="ctrl.refresh()" ng-model-onblur>
        </input>
      </div>
    </div>
    <div class="gf-form-inline">
      <div class="gf-form">
        <label class="gf-form-label width-5">X 轴</label>
        <label class="gf-form-label width-5">Buckets</label>
        <input type="number" class="gf-form-input width-5" placeholder="自动" data-placement="right"
                                                                              bs-tooltip="'X轴bucket的数量。'"
                                                                              ng-model="ctrl.panel.xBucketNumber" ng-change="ctrl.refresh()" ng-model-onblur>
      </div>
      <div class="gf-form">
        <label class="gf-form-label width-4">大小</label>
        <input type="text" class="gf-form-input width-5" placeholder="自动" data-placement="right"
                                                                            bs-tooltip="'bucket的大小。数字或间隔（10s，5m，1h等）。支持的间隔：ms，s，m，h，d，w，M，y。优先于Buckets选项。'"
                                                                            ng-model="ctrl.panel.xBucketSize" ng-change="ctrl.refresh()" ng-model-onblur>
      </div>
    </div>
  </div>

  <div class="section gf-form-group">
    <h5 class="section-heading">日期格式</h5>
    <div class="gf-form">
      <label class="gf-form-label width-5">格式</label>
      <div class="gf-form-select-wrapper max-width-15">
        <select class="gf-form-input" ng-model="ctrl.panel.dataFormat" ng-options="v as k for (k, v) in editor.dataFormats" ng-change="ctrl.render()"
          data-placement="right" bs-tooltip="'时间序列：从常规时间序列创建热图。 <br>时间序列bucket：使用从数据源返回的直方图数据。每个系列代表bucket，其上/下限是系列标签。'">
        </select>
      </div>
    </div>
  </div>
</div>
